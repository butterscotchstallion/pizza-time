<h3>Order Form</h3>
<hr>

<form action="#" id="order-form">
	<div class="row">
		<div class="col-md-6">
			<div class="row">
				<div class="col-md-12">
					<h4>Pies <small>Better to have too much than not enough!</small></h4>

					<table class="table table-striped table-bordered">
						<thead>
							<tr>
								<th>Size</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="size in pieSizes">
								<td>
									{{size.name}} &mdash; {{size.price|currency}}

									<p><em>{{size.description}}</em></p>
								</td>

								<td>
									<button type="button"
											class="btn btn-success"
											ng-disabled="isDisabled(size)"
											ng-click="addLineItem(size)"><span class="glyphicon glyphicon-plus"></span> Add to order</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<h4>Artisan Toppings <small>Gluten-free</small></h4>

					<div class="row">
						<div class="col-md-6">
							<strong>Meat</strong>

							<div class="checkbox" 
								 ng-repeat="topping in toppings.meat | orderBy:'name'">
								<label>
									<input type="checkbox"
										   name="toppings"
										   id="item-{{topping.id}}"
										   value="{{topping.id}}"
										   checklist-value="topping"
										   checklist-model="order.items"> {{topping.name}} <em>{{topping.price|currency}}</em>

										   <p><em>{{topping.description}}</em></p>
								</label>
							</div>
						</div>

						<div class="col-md-6">
							<strong>Non-Meat</strong>

							<div class="checkbox" 
								 ng-repeat="topping in toppings.nonMeat | orderBy:'name'">
								<label>
									<input type="checkbox"
										   name="toppings"
										   id="item-{{topping.id}}"
										   value="{{topping.id}}"
										   checklist-value="topping"
										   checklist-model="order.items"> {{topping.name}} <em>{{topping.price|currency}}</em>

										   <p><em>{{topping.description}}</em></p>
								</label>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-md-3">
			<div class="row">
				<div class="col-md-12">
					<h4>Your Order</h4>

					<div class="row">
						<div class="col-md-12">
							<p ng-if="order.items.length === 0"><em>Nothing yet!</em></p>

							<table ng-show="order.items.length > 0" class="table table-condensed table-hover">
								<thead>
									<tr>
										<th>Item</th>
										<th>Price</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="item in order.items | orderBy: 'type'" class="repeated-item">
										<td>
											{{item.name}} <span ng-show="item.quantity > 1">&times; {{item.quantity}}</span>
										</td>

										<td>
											{{item.price | currency}}

											<span class="pull-right remove-line-item"
												  ng-click="modifyLineItemQuantity(item)">&times;</span>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>

					<div class="row">
						<div class="col-md-12">
							<p>
								<strong>Total</strong>: {{order.total | currency}}
							</p>

							<p>
								<button type="button"
										ng-disabled="order.total < minimumOrderAmount"
										class="btn btn-success"><span class="glyphicon glyphicon-lock"></span> Secure Checkout</button>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</form>